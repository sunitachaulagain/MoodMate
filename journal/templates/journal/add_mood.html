{% extends 'base.html' %} {% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-center">
    <div
      class="card shadow-sm rounded-4 p-4"
      style="max-width: 500px; width: 100%"
    >
      <!-- Header -->
      <div class="text-center mb-4">
        <h2 class="fw-bold text-purple">Add Your Mood ðŸŒ¸</h2>
        <p class="text-muted">
          How are you feeling today? Share your thoughts!
        </p>
      </div>

      <!-- Success alert -->
      {% if messages %} {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %} {% endif %}

      <!-- Mood form -->
      <form method="post">
        {% csrf_token %}

        <!-- Mood selection -->
        <div class="mb-3">
          <label for="id_mood" class="form-label fw-semibold"
            >Select Mood</label
          >
          <select name="mood" id="id_mood" class="form-select" required>
            <option value="">--Select your mood--</option>
            <option value="Happy">ðŸ˜Š Happy</option>
            <option value="Sad">ðŸ˜¢ Sad</option>
            <option value="Excited">ðŸ¤© Excited</option>
            <option value="Tired">ðŸ˜´ Tired</option>
            <option value="Calm">ðŸ˜Œ Calm</option>
          </select>
        </div>

        <!-- Note -->
        <div class="mb-3">
          <label for="id_note" class="form-label fw-semibold">Your Note</label>
          <textarea
            name="note"
            id="id_note"
            rows="4"
            class="form-control"
            placeholder="Write something..."
            required
          ></textarea>
        </div>

        <!-- Submit button -->
        <button type="submit" class="btn btn-purple w-100 py-2 fw-semibold">
          Save Mood
        </button>
      </form>

      <!-- Footer link -->
      <div class="text-center mt-3">
        <a href="{% url 'mood-list' %}" class="text-purple fw-semibold"
          >View My Moods</a
        >
      </div>
    </div>
  </div>
</div>

<!-- Optional: add a small JS snippet to auto-focus the note field when mood is selected -->
<script>
  const moodSelect = document.getElementById("id_mood");
  const noteField = document.getElementById("id_note");
  moodSelect.addEventListener("change", () => {
    noteField.focus();
  });
</script>
{% endblock %}
